@using Chatroom_Example.IServices
@using Chatroom_Example.Data
@inject IChatRoomService _chatRoomService
<div class="container">
    <button @onclick="@DeleteMessageAsync" >Delete</button>
</div>
@code {
    [Parameter] 
    public string ChatId { get; set; }
    [Parameter]
    public EventCallback<string> ChatIdChanged { get; set; }
    [Parameter]
    public string MessageId { get; set; }
    [Parameter]
    public EventCallback<string> MessageIdChanged { get; set; }
    [Parameter]
    public EventCallback OnClickCallback { get; set; }

    private async Task DeleteMessageAsync()
    {
        await _chatRoomService.DeleteMessageAsync(ChatId, MessageId);
        await OnClickCallback.InvokeAsync();

    }
}
